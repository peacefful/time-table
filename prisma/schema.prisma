generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Director {
	id Int @id @default(autoincrement())
	name String
	surname String
	password String
	role String
	institution Institution?
	@@map("directors")
}

model Institution {
	id Int @id @default(autoincrement())
	appellation String
	directorId Int @unique
	groups Groups[]
	institution Director @relation(fields: [directorId], references: [id], onDelete: Cascade)
	@@map("institutions")
}

model Groups {
	id Int @id @default(autoincrement())
	groupName String
	course String
	institutionId Int
	timeTable TimeTable[]
	tutors Tutor[]
	students Students[]
	group Institution @relation(fields: [institutionId], references: [id], onDelete: Cascade)
	@@map("groups")
}

model Tutor {
	id Int @id @default(autoincrement())
	name String
	surname String
	password String
	groupId Int
	role String
	Tutor Groups @relation(fields: [groupId], references: [id], onDelete: Cascade)
	@@map("tutors")
}

model TimeTable {
	id Int @id @default(autoincrement())
	groupId Int @unique
	group Groups @relation(fields: [groupId], references: [id], onDelete: Cascade)
	monday Monday[]
	tuesday Tuesday[]
	wednesday Wednesday[]
	thursday Thursday[] 
	friday Friday[] 
	saturday Saturday[] 
	@@map("timeTables")
}

model Students {
	id Int @id @default(autoincrement())
	name String
	surname String
	password String
	groupId Int
	role String
	group Groups @relation(fields: [groupId], references: [id], onDelete: Cascade)
	@@map("students")
}

model Monday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("monday")
}

model Tuesday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int 
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("tuesday")
}

model Wednesday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("wednesday")
}

model Thursday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int 
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("thursday")
}

model Friday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int 
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("friday")
}

model Saturday {
	id Int @id @default(autoincrement())
	subject String
	office String
	teacher String
	beginning String
	end String
	timeTableId Int 
	timeTable TimeTable @relation(fields: [timeTableId], references: [id], onDelete: Cascade)
	@@map("saturday")
}